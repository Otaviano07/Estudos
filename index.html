<!DOCTYPE html>
<html>

<head>
  <title>Gerar Link Preenchido</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <!-- Adicione a referência ao Bootstrap -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

  <style>
    .form-row {
      margin-bottom: 10px;
    }

    .container {
      margin-top: 30px;
    }
  </style>
</head>

<body>
  <h2 style="text-align: center;margin-bottom: 20px;margin-top: 20px;">Gerador de link para estudo bíblico</h2>
  <div class="container">
    <div class="form-row">
      <div class="col-6">
        <label for="nomeEstudoBiblico">Nome do Estudo Bíblico:</label>
        <input class="form-control" type="text" id="nomeEstudoBiblico" name="nomeEstudoBiblico" list="nome" required>

        <datalist id="nome">
          <option>Ouvindo a Voz de Deus</option>
          <option>Ensinos de Jesus</option>
        </datalist>
      </div>

      <div class="col-6">
        <label for="numEstudoBiblico">Número do Estudo: </label>
        <input class="form-control" type="text" id="numEstudoBiblico" name="numEstudoBiblico" list="numero" required>

        <datalist id="numero">
          <option></option>
        </datalist>
      </div>
    </div>

    <div class="form-row">
      <div class="col-9">
        <label for="nomeProfessor">Nome do Professor</label>
        <input type="text" class="form-control" id="nomeProfessor" placeholder="Nome do Completo" name="nomeProfessor"
          required>
      </div>
      <div class="col-3">
        <label for="contatoProfessor">Whatsapp do Professor</label>
        <input type="tel" class="form-control" id="contatoProfessor" maxlength="11" onkeyup="mascaraTelefone(this);"
          placeholder="Whatsapp" name="contatoProfessor" required>
      </div>
    </div>

    <div class="form-row">
      <div class="col-9">
        <label for="nomeEstudante">Nome do Estudante</label>
        <input type="text" class="form-control" id="nomeEstudante" placeholder="Nome do Completo" name="nomeEstudante"
          required>
      </div>
      <div class="col-3">
        <label for="contatoEstudante">Whatsapp do Estudante</label>
        <input type="tel" class="form-control" id="contatoEstudante" maxlength="11" onkeyup="mascaraTelefone(this);"
          placeholder="Whatsapp" name="contatoEstudante" required>
      </div>
    </div>

    <div class="form-row">
      <button class="btn btn-primary" onclick="gerarLink()">Gerar Link</button>
    </div>
    <div class="form-group">
      <label for="linkGerado">Link Gerado:</label>
      <div class="input-group">
        <input type="text" class="form-control" id="linkGerado" readonly>
        <div class="input-group-append">
          <button class="btn btn-outline-secondary" type="button" id="btnCopiarLink" onclick="copiarLink()">
            <span class="material-icons">content_copy</span> <!-- Corrigido: ícone para copiar -->
          </button>
        </div>
      </div>
    </div>
  </div>

  <script>
    function removerAcentos(texto) {
        return texto.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
    }
    
    function gerarSlug(texto) {
        var slug = removerAcentos(texto.toLowerCase()).replace(/[^a-z0-9]+/g, "-");
        return slug;
    }
</script>

  <script>
    function mascaraTelefone(input) {
      input.value = input.value.replace(/[^\d()\-]/g, "");

      if (input.value.match(/[^\d()\-]/)) {
        alert("Digite somente números no campo de telefone.");
        input.value = input.value.replace(/[^\d()\-]/g, "");
      }
    }



    function gerarLink() {
      var nomeEstudoBiblico = gerarSlug(document.getElementById("nomeEstudoBiblico").value);
      var numEstudoBiblico = gerarSlug(document.getElementById("numEstudoBiblico").value);
      var nomeProfessor = document.getElementById("nomeProfessor").value;
      var nomeEstudante = document.getElementById("nomeEstudante").value;
      var contatoProfessor = document.getElementById("contatoProfessor").value;
      var contatoEstudante = document.getElementById("contatoEstudante").value;

      var linkBase = "https://otaviano07.github.io/estudos/";

      var linkGerado = linkBase + nomeEstudoBiblico +'/'+ numEstudoBiblico + '/index.html' +"?professor=" + nomeProfessor + "&estudante=" + nomeEstudante + "&contatoProfessor=" + contatoProfessor + "&contatoEstudante=" + contatoEstudante;

      document.getElementById("linkGerado").value = linkGerado;
    }

    function copiarLink() {
      var linkGerado = document.getElementById('linkGerado');
      linkGerado.select();
      linkGerado.setSelectionRange(0, 99999);
      document.execCommand('copy');
      alert('Link copiado para a área de transferência!');
    }
  </script>
</body>

<script>
  const nomeInput = document.getElementById('nomeEstudoBiblico');
  const numeroInput = document.getElementById('numEstudoBiblico');
  const numeroPorNome = {
    'Ouvindo a Voz de Deus': ['A Bíblia Sagrada', 'A beleza da criação', 'A origem do mal', 'O plano da salvação', 'Fé, arrependimento e confissão', 'Sinais da volta de Cristo', 'A volta de Cristo', 'O Milênio', 'A verdade sobre a morte', 'A nova terra', 'Salvação pela graça', 'O Santuário', 'O Juízo', 'As leis na Bíblia', 'A Lei Moral', 'O mandamento esquecido', 'Do sábado para o domingo', 'Princípios de Saúde', 'O dom de profecia', 'O dízimo', 'As ofertas', 'A igreja verdadeira', 'O Batismo', 'Princípios de vida Cristã', 'Educação Cristã', 'Vida no Espírito', 'Ministério para Todos'],
    'Ensinos de Jesus': ['O que JESUS ensinou sobre as ESCRITURAS', 'O que JESUS ensinou sobre a SALVAÇÃO', 'O que JESUS ensinou sobre a SANTIFICAÇÃO', 'O que JESUS ensinou sobre o ESPÍRITO SANTO', 'O que JESUS ensinou sobre a ORAÇÃO', 'O que JESUS ensinou sobre o PERDÃO', 'O que JESUS ensinou sobre o DINHEIRO', 'O que JESUS ensinou sobre SUA VOLTA', 'O que JESUS ensinou sobre a MORTE', 'O que JESUS ensinou sobre a RESSURREIÇÃO', 'O que JESUS ensinou sobre o JUÍZO', 'O que JESUS ensinou sobre a LEI', 'O que JESUS ensinou sobre o SÁBADO', 'O que JESUS ensinou sobre a IGREJA', 'O que JESUS ensinou sobre os PROFETAS', 'O que JESUS ensinou sobre o BATISMO', 'O que JESUS ensinou sobre o CUIDADO COM O CORPO', 'O que JESUS ensinou sobre ritos e TRADIÇÕES']
  };

  nomeInput.addEventListener('change', function () {
    const selectedNome = this.value;
    const numero = numeroPorNome[selectedNome] || [];
    const datalist = document.getElementById('numero');

    // Limpar as opções atuais da lista
    datalist.innerHTML = '';

    // Adicionar as novas opções filtradas
    numero.forEach(function (numero) {
      const option = document.createElement('option');
      option.value = numero;
      datalist.appendChild(option);
    });
  });
</script>


</html>