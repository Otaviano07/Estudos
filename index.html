<!DOCTYPE html>
<html>

<head>
  <title>Gerar Link Preenchido</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <!-- Adicione a referência ao Bootstrap -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

  <style>
    .form-row {
      margin-bottom: 10px;
    }

    .container {
      margin-top: 30px;
    }
  </style>
</head>

<body>
  <h2 style="text-align: center;margin-bottom: 20px;margin-top: 20px;">Gerador de link para estudo bíblico</h2>
  <div class="container">
    <div class="form-row">
      <div class="col-6">
        <label for="nomeEstudoBiblico">Nome do Estudo Bíblico:</label>
        <input class="form-control" type="text" id="nomeEstudoBiblico" name="nomeEstudoBiblico" list="nome" required>

        <datalist id="nome">
          <option>Ouvindo a Voz de Deus</option>
          <option>Ensinos de Jesus</option>
        </datalist>
      </div>

      <div class="col-6">
        <label for="numEstudoBiblico">Número do Estudo: </label>
        <input class="form-control" type="text" id="numEstudoBiblico" name="numEstudoBiblico" list="numero" required>

        <datalist id="numero">
          <option></option>
        </datalist>
      </div>
    </div>

    <div class="form-row">
      <div class="col-9">
        <label for="nomeProfessor">Nome do Professor</label>
        <input type="text" class="form-control" id="nomeProfessor" placeholder="Nome do Completo" name="nomeProfessor" required>
      </div>
      <div class="col-3">
        <label for="contatoProfessor">Whatsapp do Professor</label>
        <input type="tel" class="form-control" id="contatoProfessor" maxlength="11" onkeyup="mascaraTelefone(this);"
          placeholder="Whatsapp" name="contatoProfessor" required>
      </div>
    </div>

    <div class="form-row">
      <div class="col-9">
        <label for="nomeEstudante">Nome do Estudante</label>
        <input type="text" class="form-control" id="nomeEstudante" placeholder="Nome do Completo" name="nomeEstudante" required>
      </div>
      <div class="col-3">
        <label for="contatoEstudante">Whatsapp do Estudante</label>
        <input type="tel" class="form-control" id="contatoEstudante" maxlength="11" onkeyup="mascaraTelefone(this);"
          placeholder="Whatsapp" name="contatoEstudante" required>
      </div>
    </div>

    <div class="form-row">
      <button class="btn btn-primary" onclick="gerarLink()">Gerar Link</button>
    </div>
    <div class="form-group">
      <label for="linkGerado">Link Gerado:</label>
      <div class="input-group">
        <input type="text" class="form-control" id="linkGerado" readonly>
        <div class="input-group-append">
          <button class="btn btn-outline-secondary" type="button" id="btnCopiarLink" onclick="copiarLink()">
            <span class="material-icons">content_copy</span> <!-- Corrigido: ícone para copiar -->
          </button>
      </div>
    </div>
  </div>
  </div>

  <script>
    function mascaraTelefone(input) {
      input.value = input.value.replace(/[^\d()\-]/g, "");

      if (input.value.match(/[^\d()\-]/)) {
        alert("Digite somente números no campo de telefone.");
        input.value = input.value.replace(/[^\d()\-]/g, "");
      }
    }

    function gerarLink() {
      var estudoBiblico = document.getElementById("estudoBiblico").value;
      var numEstudoBiblico = document.getElementById("numEstudoBiblico").value;
      var nomeProfessor = document.getElementById("nomeProfessor").value;
      var nomeEstudante = document.getElementById("nomeEstudante").value;
      var contatoProfessor = document.getElementById("contatoProfessor").value;
      var contatoEstudante = document.getElementById("contatoEstudante").value;

      var linkBase = "https://otaviano07.github.io/estudos/";

      var linkGerado = linkBase + estudoBiblico + numEstudoBiblico + "?professor=" + nomeProfessor + "&estudante=" + nomeEstudante + "&contatoProfessor=" + contatoProfessor + "&contatoEstudante=" + contatoEstudante;

      document.getElementById("linkGerado").value = linkGerado;
    }

    function copiarLink() {
      var linkGerado = document.getElementById('linkGerado');
      linkGerado.select();
      linkGerado.setSelectionRange(0, 99999);
      document.execCommand('copy');
      alert('Link copiado para a área de transferência!');
    }
  </script>
</body>

<script>
  const nomeInput = document.getElementById('nomeEstudoBiblico');
  const numeroInput = document.getElementById('numEstudoBiblico');
  const numeroPorNome = {
    'Ouvindo a Voz de Deus': ['Selecione','01 - A Bíblia Sagrada','02 - A beleza da criação', '03 - A origem do mal', '04 - O plano da salvação', '05 - Fé, arrependimento e confissão', '06 - Sinais da volta de Cristo', '07 - A volta de Cristo', '08 - O Milênio', '09 - A verdade sobre a morte', '10 - A nova terra', '11 - Salvação pela graça', '12 - O Santuário', '13 - O Juízo', '14 - As leis na Bíblia', '15 - A Lei Moral', '16 - O mandamento esquecido', '17 - Do sábado para o domingo', '18 - Princípios de Saúde', '19 - O dom de profecia', '20 - O dízimo', '21 - As ofertas', '22 - A igreja verdadeira', '23 - O Batismo', '24 - Princípios de vida Cristã', '25 - Educação Cristã', '26 - Vida no Espírito', '27 - Ministério para Todos'],
    'Ensinos de Jesus': ['Selecione','01 - O que JESUS ensinou sobre as ESCRITURAS','02 - O que JESUS ensinou sobre a SALVAÇÃO','03 - O que JESUS ensinou sobre a SANTIFICAÇÃO','04 - O que JESUS ensinou sobre o ESPÍRITO SANTO','05 - O que JESUS ensinou sobre a ORAÇÃO','06 - O que JESUS ensinou sobre o PERDÃO','07 - O que JESUS ensinou sobre o DINHEIRO','08 - O que JESUS ensinou sobre SUA VOLTA','09 - O que JESUS ensinou sobre a MORTE','10 - O que JESUS ensinou sobre a RESSURREIÇÃO','11 - O que JESUS ensinou sobre o JUÍZO','12 - O que JESUS ensinou sobre a LEI','13 - O que JESUS ensinou sobre o SÁBADO','14 - O que JESUS ensinou sobre a IGREJA','15 - O que JESUS ensinou sobre os PROFETAS','16 - O que JESUS ensinou sobre o BATISMO','17 - O que JESUS ensinou sobre o CUIDADO COM O CORPO','18 - O que JESUS ensinou sobre ritos e TRADIÇÕES']
  };

  nomeInput.addEventListener('change', function () {
    const selectedNome = this.value;
    const numero = numeroPorNome[selectedNome] || [];
    const datalist = document.getElementById('numero');

    // Limpar as opções atuais da lista
    datalist.innerHTML = '';

    // Adicionar as novas opções filtradas
    numero.forEach(function (numero) {
      const option = document.createElement('option');
      option.value = numero;
      datalist.appendChild(option);
    });
  });
</script>


</html>